# UW ADFS Access Control Configuration Examples

## Basic Department Restriction
# Only allow users from specific departments
UW_ADFS_DEPARTMENT_RESTRICTION=true
UW_ADFS_ALLOWED_DEPARTMENTS="Mathematics,Computer Science,Statistics,Engineering"

## Email Whitelist (for specific users)
# Enable whitelist for specific users who need access regardless of department
UW_ADFS_WHITELIST_ENABLED=true
UW_ADFS_WHITELIST_EMAILS="admin@uwaterloo.ca,special.user@uwaterloo.ca,director@math.uwaterloo.ca"

## Group-based Access Control
# Require users to belong to specific AD groups
UW_ADFS_GROUP_RESTRICTION=true
UW_ADFS_REQUIRED_GROUPS="Faculty,Staff,Graduate Students"

# Block users from specific groups
UW_ADFS_BLOCKED_GROUPS="Suspended Accounts,Inactive Users"

## Custom Access Denied Configuration
UW_ADFS_ACCESS_DENIED_URL="/custom-access-denied"
UW_ADFS_ACCESS_DENIED_MESSAGE="Access restricted to Mathematics and Computer Science departments only."

## Example Configuration Scenarios:

### Scenario 1: Department-only Access (Math/CS only)
UW_ADFS_DEPARTMENT_RESTRICTION=true
UW_ADFS_ALLOWED_DEPARTMENTS="Mathematics,Computer Science"
UW_ADFS_WHITELIST_ENABLED=false
UW_ADFS_GROUP_RESTRICTION=false

### Scenario 2: Faculty/Staff Only with Whitelist
UW_ADFS_GROUP_RESTRICTION=true
UW_ADFS_REQUIRED_GROUPS="Faculty,Staff"
UW_ADFS_WHITELIST_ENABLED=true
UW_ADFS_WHITELIST_EMAILS="grad.student1@uwaterloo.ca,special.visitor@uwaterloo.ca"
UW_ADFS_DEPARTMENT_RESTRICTION=false

### Scenario 3: Math Department + Specific Users
UW_ADFS_DEPARTMENT_RESTRICTION=true
UW_ADFS_ALLOWED_DEPARTMENTS="Mathematics"
UW_ADFS_WHITELIST_ENABLED=true
UW_ADFS_WHITELIST_EMAILS="cs.prof@uwaterloo.ca,external.collaborator@uwaterloo.ca"

### Scenario 4: Open Access with Blocked Groups
UW_ADFS_DEPARTMENT_RESTRICTION=false
UW_ADFS_WHITELIST_ENABLED=false
UW_ADFS_GROUP_RESTRICTION=true
UW_ADFS_BLOCKED_GROUPS="Suspended Accounts,Guest Accounts"

## Notes:
# - Whitelist overrides all other restrictions (if user is whitelisted, they get access)
# - Blocked groups are checked before required groups
# - Department restrictions are checked last
# - All checks are case-insensitive
# - Use comma-separated values for multiple entries
# - Spaces around commas are automatically trimmed